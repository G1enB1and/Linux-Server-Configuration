ubuntu$ sudo apt-get install apache2
ubuntu$ sudo apt-get install python-pip virtualenv
ubuntu$ sudo su
root$ cd /etc/apche2/sites-available
root$ nano flask.conf

<VirtualHost *:80>
	serverName	flaskapp.com
	WSGIScriptAlias / /var/www/flask/flask.wsgi
	<Directory /var/www/flask>
		Order allow,deny
		Allow from all
	</Directory>

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/error.log combined
</VirtualHost>

root$ apt-get install libapache2-mod-wsgi
root$ cd /var/www
root$ mkdir flask
root$ cd flask
root$ mkdir static templates
root$ virtualenv venv
root$ nano init.py

from flask import Flask

app = Flask (__name__)
@app.route("/")
def index():
  return "hellow world"

if __name__ == "__main__":
  app.run()

root$ pip install flask
root@ip:/var/www/flask# python
>>> import flask
>>>
root@ip:/var/www/flask# python init.py
(test in browser) - working
ctrl c to quit

root@ip:/var/www/flask# nano flask.wsgi

import sys
sys.path.insert(0, "/var/www/flask/")

from init import app as application

root@ip:/var/www/flask# apt-get install a2enmod
root@ip:/var/www/flask# a2ensite flask.conf
root@ip:/var/www/flask# service apache2 reload
root@ip:/var/www/flask# a2dissite 000-default.conf
root@ip:/var/www/flask# service apache2 reload
test in browser  - working

----------------------------------------------------------------------------------
https://www.youtube.com/watch?v=_80H2WIuA7w
https://pythonprogramming.net/flask-web-development-tutorial/

logged in as root
$ sudo apt-get install apache2
$ sudo apt-get install libapache2-mod-wsgi
$ sudo a2enmod wsgi


## /var/www/FlaskApp/FlaskApp/__init__.py

from flask import Flask

app = Flask(__name__)

@app.route('/')
def homepage():
    return "Hello World"

if __name__ == "__main__":
    app.run()

$ sudo apt-get install python-pip
$ sudo pip install virtualenv
$ sudo virtualenv venv

the only time tyou need to activate venv is to install flask inside of it.

$ source venv/bin/activate
(venv)$ sudo pip install Flask
$ deactivate

## /etc/apache2/sites-available/FlaskApp.conf
<VirtualHost *:80>
		ServerName glenallin.com
		ServerAdmin glen@glenbland.com

		WSGIScriptAlias / /var/www/FlaskApp/flaskapp.wsgi

		<Directory /var/www/FlaskApp/FlaskApp>
			Require all granted
		</Directory>

		Alias /static /var/www/FlaskApp/FlaskApp/static

		<Directory /var/www/FlaskApp/FlaskApp/static>
			Require all granted
		</Directory>

		ErrorLog /var/www/FlaskApp/error.log
                LogLevel warn
                CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

$ service apache2 reload
$ sudo a2ensite FlaskApp

## /var/www/FlaskApp/flaskapp.wsgi

#!/usr/bin/python

import sys
import logging

logging.basicConfig(stream=sys.stderr)
sys.path.insert(0,"/var/www/FlaskApp/")

from FlaskApp import app as application
application.secret_key = "oewdhfowijhfoiqwf"

$ sudo service apache2 restart

/var/www/FlaskApp/FlaskApp
venv
templates
static
__init__.py

/var/www/FlaskApp
flaskapp.wsgi

I had to change python code to reflect full path instead of relative for client_secrets and catalog.db

('sqlite:///catalog.db')
('sqlite:////var/www/FlaskApp/FlaskApp/catalog.db')


site is working at glenallin.com, not glenallin.com:8000

have to change google developer credentials and download new client_secrets.json

